<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒ</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: sans-serif;
        }
        #timeDisplay {
            font-size: 48px;
            font-weight: bold;
            font-family: monospace;
            margin-bottom: 20px;
            color: #333;
        }
        button, .share-btn {
            padding: 15px 30px;
            font-size: 20px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background-color 0.3s;
            text-decoration: none;
            margin: 10px;
            text-align: center;
            width: 250px;
            box-sizing: border-box;
        }
        #mainBtn {
            background-color: #007BFF; /* é’è‰²ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ï¼‰ */
        }
        #mainBtn.stop {
            background-color: #dc3545; /* èµ¤è‰²ï¼ˆã‚¹ãƒˆãƒƒãƒ—æ™‚ï¼‰ */
        }
        .share-btn {
            background-color: #000000; /* Xã®é»’è‰² */
            display: none; /* åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º */
        }
        .button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body>
<div style="position: absolute; top: 20px; left: 20px;">
        <a href="01.html" style="font-size: 20px; text-decoration: none; color: #007BFF; font-weight: bold;">01</a>
    </div>
    <div id="timeDisplay">00:00.000</div>
    <div class="button-container">
        <button id="mainBtn">ã‚¹ã‚¿ãƒ¼ãƒˆï¼ï¼</button>
        <a id="shareBtn" class="share-btn" target="_blank" rel="noopener noreferrer">ğ•ã§çµæœã‚’ã‚·ã‚§ã‚¢</a>
    </div>

    <script>
        let startTime;
        let timerInterval;
        let isRunning = false;

        const display = document.getElementById('timeDisplay');
        const mainBtn = document.getElementById('mainBtn');
        const shareBtn = document.getElementById('shareBtn');

        // æ™‚é–“ã‚’è¦‹ã‚„ã™ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹é–¢æ•°
        function formatTime(ms) {
            const minutes = Math.floor(ms / 60000);
            const seconds = Math.floor((ms % 60000) / 1000);
            const milliseconds = ms % 1000;
            return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(3, '0')}`;
        }

        mainBtn.addEventListener('click', function() {
            if (!isRunning) {
                // ã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚’æŠ¼ã—ãŸã¨ãã®å‡¦ç†ã€‘
                startTime = Date.now();
                isRunning = true;
                mainBtn.textContent = 'ã‚¹ãƒˆãƒƒãƒ—';
                mainBtn.classList.add('stop'); // ãƒœã‚¿ãƒ³ã‚’èµ¤ãã™ã‚‹
                shareBtn.style.display = 'none'; // ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚’éš ã™

                // 10ãƒŸãƒªç§’ã”ã¨ã«ç”»é¢ã®æ•°å­—ã‚’æ›´æ–°
                timerInterval = setInterval(() => {
                    const elapsedTime = Date.now() - startTime;
                    display.textContent = formatTime(elapsedTime);
                }, 10);
            } else {
                // ã€ã‚¹ãƒˆãƒƒãƒ—ã‚’æŠ¼ã—ãŸã¨ãã®å‡¦ç†ã€‘
                clearInterval(timerInterval); // æ™‚é–“ã®æ›´æ–°ã‚’æ­¢ã‚ã‚‹
                isRunning = false;
                mainBtn.textContent = 'ã‚‚ã†ä¸€åº¦ï¼ˆãƒªã‚»ãƒƒãƒˆï¼‰';
                mainBtn.classList.remove('stop'); // ãƒœã‚¿ãƒ³ã‚’é’ã«æˆ»ã™
                
                // çµæœã®å–å¾—ã¨ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚¯ã®ç”Ÿæˆ
                const finalTime = display.textContent;
                const siteUrl = "https://click-me-site.vercel.app/"; // ã”è‡ªèº«ã®Vercelã®URL
                
                // ğ•ã«æ¸¡ã™æ–‡ç« ã‚’ä½œã‚‹
                const tweetText = encodeURIComponent(`ç§ã®è¨˜éŒ²ã¯ ${finalTime} ã§ã—ãŸï¼â±ï¸\nã¿ã‚“ãªã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã¦ï¼\n`);
                shareBtn.href = `https://twitter.com/intent/tweet?text=${tweetText}&url=${encodeURIComponent(siteUrl)}`;
                
                shareBtn.style.display = 'block'; // ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹
            }
        });
    </script>

</body>
</html>